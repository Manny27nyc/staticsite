## Taxonomies

Any number of taxonomies, each described by a `<name>.taxonomy` file where it
should appear in the site.

See `example/content/tags.taxonomy` for details.

**Added in 1.2**: Any taxonomy you use needs to be explicitly listed in
settings as a `TAXONOMIES` list of taxonomy names. staticsite prints a warning
if a `.taxonomy` file is found that is not listed in `TAXONOMIES`.

The `.taxonomy` file will be a yaml, json, or toml file, like in
[markdown](markdown.md) front matter.

The relevant fields in a taxonomy file are:

* `template_tags`: template used to render the main taxonomy index (default:
  `tags.html`)
* `template_tag`: template to use to render each individual category index
  for a taxonomy (default: `tag.html`)
* `template_archive`: template to use to render the archive page for each
  individual category index for a taxonomy (default: `tag-archive.html`)
* **Removed in 1.2**: `output_dir` is now ignored, and the taxonomy pages will
  be put in a directory with the same name as the file, without extension
* **Changed in 1.2**: `item_name` in a `.taxonomy` file does not have a special
  meaning anymore, and templates can still find it in the taxonomy page
  metadata
* **Added in 1.2**: page.meta["tags"] or other taxonomy names gets substituted,
  from a list of strings, to a list of pages for the taxonomy index


```toml
+++
# In staticsite, a taxonomy is a group of attributes like categories or tags.
#
# Like in Hugo, you can have as many taxonomies as you want. See
# https://gohugo.io/taxonomies/overview/ for a general introduction to
# taxonomies.
#
# This file describes the taxonomy for "tags". The name of the taxonomy is
# taken from the file name.
#
# The format of the file is the same that is used for the front matter of
# posts, again same as in Hugo: https://gohugo.io/content/front-matter/

# Template for rendering the taxonomy index. Here, it's the page that shows the
# list of tags
template_tags = "tags.html"

# Template for rendering the page for one tag. Here, it's the page that shows
# the latest pages tagged with the tag
template_tag = "tag.html"

# Template for rendering the archive page for one tag. Here, it's the page that
# links to all the pages tagged with the tag
template_archive = "tag-archive.html"

# When pages are added with these items of this taxonomy,
# also add them to a series with the same name as the tag
series_tags = ["links", "songs"]
+++
```


### Jinja2 templates

Each taxonomy defines extra `url_for_*` functions. For example, given a *tags*
taxonomy with *tag* as singular name:

 * `taxonomies()`: list of all taxonomy index pages, ordered by name
 * `taxonomy(name)`: taxonomy index page for the given taxonomy
 * **Removed in 1.2**: `url_for_tags()`: links to the taxonomy index.
 * **Removed in 1.2**: `url_for_tag(tag)`: use `url_for(category)`
 * **Removed in 1.2**: `url_for_tag_archive(tag)`: use `url_for(category.archive)`
 * **Removed in 1.2**: `url_for_tag_rss(tag)`: see [the syndication feature](syndication.md)
 * **Removed in 1.2**: `url_for_tag_atom(tag)`: see [the syndication feature](syndication.md)


### Taxonomy pages

Pages generated by the taxonomy feature have some extra attributes besides the
usual [meta](metadata.md), documented here.


**Taxonomy index page**:

* `name`: the taxonomy name (e.g. "tags")
* `categories`: dict mapping category names to category index pages. In
  templates, the dict is sorted by category name.
* The page can be indexed by category name, returning the corresponding
  category index page.


**Category index page**:

* `name`: the category name
* `taxonomy`: the taxonomy index page for this category
* `archive`: the archive page for this category
* `pages`: the pages who have this category


**Category archive**:

* `name`: the category name
* `taxonomy`: the taxonomy index page for this category
* `category`: the category index page for this category
* `pages`: the pages who have this category


[Back to README](../README.md)
